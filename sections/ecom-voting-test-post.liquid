{% comment %}
 EComposer (https://ecomposer.io)
 You SHOULD NOT modify source code in this page because
 It is automatically generated from EComposer
 At 2024-06-07 14:24:35
 {% endcomment %} 
 
 {% assign ecom_root_url = routes.root_url %}
 {% if ecom_root_url != '/'%}
 {% assign ecom_root_url = routes.root_url | append: '/' %}
 {% endif %}
 <link rel="stylesheet" media="all" id="ecom-vendors-css_ecomposer_base" href="https://cdn.ecomposer.app/vendors/css/ecom-base.css?v=1.6" /><noscript><link rel="stylesheet" media="all" id="ecom-vendors-css_ecomposer_base" href="https://cdn.ecomposer.app/vendors/css/ecom-base.css?v=1.6" /></noscript>
{%capture section_id %}ecom-voting-test-post{% endcapture%}{% if section and section_id == section.id and headless == true %}
{{ content_for_header }}
{% render 'ecom_header', ECOM_THEME: true %}{% endif %}
{{'ecom-66630f145f4f1629710689f7.css' | asset_url | stylesheet_tag }}
<script src="{{'ecom-66630f145f4f1629710689f7.js' | asset_url }}" defer="defer"></script>
<script type="text/javascript" class="ecom-page-info">
 window.EComposer = window.EComposer || {};
 window.EComposer.TEMPLATE_ID="66630f145f4f1629710689f7";
 window.EComposer.TEMPLATE = {"template_id":"66630f145f4f1629710689f7","title":"Voting Test","type":"post","slug":"ecom-voting-test","plan_id":4};
 </script>
<div class="ecom-builder" id="ecom-voting-test"><div class="ecom-sections" data-section-id="{{section.id}}"><section class="ecom-row ecom-core ecom-section ecom-2uqn14ic2q6" data-id="ecom-2uqn14ic2q6" style="z-index: inherit;"><div data-deep="1" class="core__row--columns"><div class="ecom-column ecom-core core__column--first core__column--last ecom-jnxkxnkqi0j"><div class="core__column--wrapper"><div class="ecom-column__overlay"><div class="ecom-overlay"></div></div><div class="core__blocks" index="0"><div class="core__blocks--body"><div class="ecom-block ecom-core core__block elmspace ecom-o6nspr546" data-core-is="block"><div class="ecom__element ecom-element element__code exporting" deep="1"><style>
 .vote-container {
 display: flex;
 align-items: center;
 gap: 10px;
 }

 .vote-btn {
 padding: 10px 20px;
 cursor: pointer;
 border: 1px solid #ccc;
 background-color: #f5f5f5;
 border-radius: 5px;
 transition: background-color 0.3s;
 }

 .vote-btn:hover {
 background-color: #e0e0e0;
 }

 #voteCount {
 font-size: 16px;
 font-weight: bold;
 }
</style>

<div class="vote-container">
 <button id="upvoteBtn" class="vote-btn">Upvote</button>
 <span id="voteCount">0</span>
 <button id="downvoteBtn" class="vote-btn">Downvote</button>
</div>

<script>
 document.addEventListener("DOMContentLoaded", function() {
 const upvoteBtn = document.getElementById('upvoteBtn');
 const downvoteBtn = document.getElementById('downvoteBtn');
 const voteCount = document.getElementById('voteCount');

 const apiUrl = 'https://vote-app-kappa.vercel.app/'; // Update with your Vercel app URL

 async function fetchVotes() {
 const response = await fetch(`${apiUrl}/votes`);
 const data = await response.json();
 voteCount.innerText = data.votes;
 }

 async function updateVote(action) {
 const response = await fetch(`${apiUrl}/votes/${action}`, {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json',
 },
 });
 const data = await response.json();
 voteCount.innerText = data.votes;
 }

 upvoteBtn.addEventListener('click', () => updateVote('upvote'));
 downvoteBtn.addEventListener('click', () => updateVote('downvote'));

 // Fetch initial votes on page load
 fetchVotes();
 });
</script>
</div></div> </div></div></div></div> </div><div class="ecom-section__overlay"><div class="ecom-overlay"></div></div> </section>
</div></div>
{% schema %}
{
 "name": "Voting Test",
 "locales": {},
 "settings": [
 {
 "type": "header",
 "content": "The section was generated by [Ecomposer](https:\/\/ecomposer.io).",
 "info": "\n EComposer is a Visual Page Builder app on Shopify AppStore.\n It provides 100+ pre-built templates in library,\n so you can build unlimited pages that you can imagine with it.\n Please don't add Shopify sections to EComposer's page in the theme customize. If you do this, Shopify sections will be deleted when you republish your page in EComposer\n "
 },
 {
 "type": "header",
 "content": "[EDIT WITH EComposer APP \u2192](https:\/\/ecomposer.app\/shop?open_builder=1&page=post&id=66630f145f4f1629710689f7&utm_source=theme-customize)",
 "info": "(*You must install the app to start editing this section [Learn more](https:\/\/help.ecomposer.io\/docs\/getting-started\/installation\/))"
 }
 ]
}
{% endschema %}